#include<stdio.h>
#include<stdlib.h>
int one();
int two();
int tph,philname[10],hu[10],howhung,ch,status[20];
int main()
{
    int i;
    printf("Enter the total no of philosophers:");
    scanf("%d",&tph);
    for(i=0;i<tph;i++)
    {
        philname[i]=i+1;
        status[i]=1;
    }
    printf("How many are hungry:");
    scanf("%d",&howhung);
    for(i=0;i<howhung;i++)
    {
        printf("Enter philosopher %d position :",i+1);
        scanf("%d",&hu[i]);
        status[hu[i]]=2;
    }
    do{
        printf("\n1.One can eat at a time\t2.Two can eat at a time\t3.Exit");
        printf("Enter you choice:");
        scanf("%d",&ch);
        switch(ch)
        {
            case 1:
                one();
                break;
            case 2:
                two();
                break;
            case 3:
                exit(0);
        }
    }while(1);
}
int one()
{
    int x,i;
    printf("One can eat at a time");
    for(i=0;i<howhung;i++)
    {
        printf("\nP %d is granted to eat",philname[hu[i]]);
        for(x=i+1;x<howhung;x++)
            printf("\nP %d is waiting",philname[hu[x]]);
        printf("\n");
    }
}
int two()
{
    int x,i,j,s=0;
    printf("Two can eat at a time\n");
    for(i=0;i<howhung;i++)
    {
        for(j=i+1;j<howhung;j++)
        {
            if(abs(hu[i]-hu[j])!=1&&abs(hu[i]-hu[j])!=(tph-1))
            {
                printf("Combination-%d",s+1);
                s++;
                printf("\nP %d and P %d are granted to eat\n",philname[hu[i]],philname[hu[j]]);
                for(x=0;x<howhung;x++)
                {
                    if(hu[i]!=hu[x] && hu[j]!=hu[x])
                        printf("P %d is waiting\n",philname[hu[x]]);
                }
                printf("\n");
                
            }    
        }
    }
}
